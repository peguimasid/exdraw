# ExDraw

ExDraw is a real-time collaborative whiteboard built with Phoenix LiveView. Draw together with multiple users, share ideas visually, and collaborate seamlessly in real-time.

## Getting Started

### Prerequisites
- Have [Docker](https://www.docker.com/) installed on your system.

### Prerequisites
- Have [Docker](https://www.docker.com/) installed on your system.

### Setup Instructions
1. Clone the repository:
   ```bash
   git clone https://github.com/peguimasid/exdraw.git
   cd exdraw
   ```

2. Start the database using Docker:
   ```bash
   docker compose up -d
   ```

3. Install dependencies, set up the database, and seed initial data:
   ```bash
   mix setup
   ```

4. Start the Phoenix server:
   ```bash
   iex -S mix phx.server
   ```

5. Visit the application in your browser at [http://localhost:4000](http://localhost:4000).

### Running Tests
- Run all tests:
  ```bash
  mix test
  ```

- Run tests in watch mode:
  ```bash
  mix test.watch
  ```

## Deployment
For production deployment guidelines, visit the [Phoenix deployment documentation](https://hexdocs.pm/phoenix/deployment.html).

## Learn More
- [Phoenix Framework Official Website](https://www.phoenixframework.org/)
- [Guides](https://hexdocs.pm/phoenix/overview.html)
- [Documentation](https://hexdocs.pm/phoenix)
- [Forum](https://elixirforum.com/c/phoenix-forum)
- [Source Code](https://github.com/phoenixframework/phoenix)

---

## Development Roadmap

> **Note:** This roadmap was generated by AI as a guide for development. It represents the planned features and implementation phases for ExDraw.

### **Phase 1: Authentication Foundation** üîê

**Goal:** Secure, beautiful login experience with multiple auth options

#### 1. Project Setup
- [x] Create new Phoenix 1.8 app with PostgreSQL
- [x] Set up Tailwind CSS for styling
- [x] Create landing page with "Get Started" button

**How it should work:**
- User visits `exdraw.com` and sees a clean landing page with app demo/preview
- Prominent "Start Drawing" button that leads to auth
- Modern, minimal design (think Linear, Vercel style)

#### 2. Email/Password Authentication
- [x] Run `mix phx.gen.auth`
- [x] Customize auth pages with beautiful UI
- [x] Add email confirmation
- [x] Password reset flow

**How it should work:**
- User clicks "Start Drawing" ‚Üí redirected to login/register
- Clean form with email and password fields
- "Sign Up" creates account and sends confirmation email
- "Log In" redirects to `/draw` if authenticated
- Smooth transitions, helpful error messages

#### 3. GitHub & Google SSO
- [ ] Add `ueberauth_github` and `ueberauth_google`
- [ ] Create OAuth apps in both platforms
- [ ] Add "Continue with GitHub" and "Continue with Google" buttons

**How it should work:**
- Login page shows three options: Email, GitHub, Google
- User clicks "Continue with GitHub" ‚Üí OAuth popup ‚Üí auto-creates account ‚Üí lands on `/draw`
- If account exists, just logs them in
- Beautiful button styling with brand colors and icons

---

### **Phase 2: Basic Collaborative Drawing** üé®

**Goal:** Real-time whiteboard where users can draw together

#### 4. Canvas Page Setup
- [ ] Create `/draw` authenticated route
- [ ] Add HTML5 canvas (full screen minus header)
- [ ] Header shows: logo, active users count, user menu, logout

**How it should work:**
- After login, user lands on `/draw`
- Full-screen canvas with minimal UI (like Excalidraw)
- Header bar at top: "ExDraw" logo on left, user avatar/menu on right
- Clean, distraction-free workspace

#### 5. Freehand Drawing Tool
- [ ] JavaScript hook captures mouse/touch events
- [ ] User can draw with mouse/finger
- [ ] Smooth lines appear as you draw
- [ ] Basic pen tool (black, 2px width)

**How it should work:**
- User moves mouse on canvas with button pressed ‚Üí smooth black line appears instantly
- No lag, responsive drawing
- Lines are smooth curves, not jagged
- Touch works on mobile/tablet

#### 6. Real-time Sync
- [ ] Phoenix PubSub broadcasts strokes
- [ ] Other users see drawings appear live

**How it should work:**
- User A draws on their screen
- User B (in another browser/device) sees User A's strokes appear in real-time within 100ms
- Works with 2+ users simultaneously
- Each stroke syncs as it's drawn, not after completion

#### 7. User Presence
- [ ] Phoenix Presence tracks connected users
- [ ] Show user avatars in header
- [ ] Each user gets unique color

**How it should work:**
- Header shows small circles with user initials/avatars
- "3 people drawing" indicator
- When user joins/leaves, list updates immediately
- Hover over avatar shows email/name

---

### **Phase 3: Essential Tools** üõ†Ô∏è

**Goal:** Basic drawing tools that make the app useful

#### 8. Toolbar & Tool Selection
- [ ] Floating toolbar on left side
- [ ] Tools: Select, Pen, Rectangle, Circle, Line, Arrow, Text
- [ ] Selected tool is highlighted

**How it should work:**
- Vertical toolbar on left with icon buttons
- Click tool to activate (button gets blue/highlighted)
- Keyboard shortcuts: V (select), P (pen), R (rectangle), O (circle), L (line), A (arrow), T (text)
- Tooltip shows tool name and shortcut on hover

#### 9. Shape Tools (Rectangle, Circle, Line)
- [ ] Click-drag to create shapes
- [ ] Preview while dragging
- [ ] Shapes have stroke (no fill yet)

**How it should work:**
- Select Rectangle tool ‚Üí click and drag ‚Üí see preview rectangle ‚Üí release ‚Üí rectangle created
- Hold Shift while dragging circle ‚Üí perfect circle
- Hold Shift while drawing line ‚Üí snaps to 15¬∞ increments
- All shapes sync to other users in real-time

#### 10. Selection & Move
- [ ] Click elements to select them
- [ ] Selected element shows bounding box
- [ ] Drag to move elements

**How it should work:**
- Click Select tool ‚Üí click any drawn element ‚Üí blue bounding box appears
- Click and drag element ‚Üí it moves smoothly
- Click canvas background ‚Üí deselects
- Press Delete/Backspace ‚Üí removes selected element
- Other users see movements in real-time

#### 11. Color Picker
- [ ] Toolbar shows current color
- [ ] Click to open color palette
- [ ] 10-15 preset colors (no complex picker)

**How it should work:**
- Toolbar shows current color as small circle
- Click color ‚Üí popup shows grid of preset colors (red, blue, green, yellow, orange, purple, pink, black, gray, white)
- Click color ‚Üí applies to current tool
- Selected element? Changes its color
- Click outside ‚Üí closes picker

#### 12. Stroke Width
- [ ] Small/Medium/Large buttons or slider
- [ ] Shows in toolbar

**How it should work:**
- Toolbar has 3 buttons: thin line, medium line, thick line (or 1-2-4px icons)
- Click to select width
- Applies to pen, shapes, lines
- Updates selected element if one is selected

---

### **Phase 4: Polish & Usability** ‚ú®

**Goal:** Make it beautiful, smooth, and delightful to use

#### 13. Delete & Clear
- [ ] Delete selected elements
- [ ] Clear entire canvas option

**How it should work:**
- Delete/Backspace key deletes selected element
- "Clear Canvas" in menu (or Ctrl+Shift+Delete) ‚Üí confirmation modal ‚Üí clears everything
- Broadcasts deletion to all users

#### 14. Undo/Redo
- [ ] Undo last action (Ctrl+Z)
- [ ] Redo (Ctrl+Shift+Z)
- [ ] Undo/redo buttons in toolbar

**How it should work:**
- User draws line ‚Üí presses Ctrl+Z ‚Üí line disappears
- Press Ctrl+Shift+Z ‚Üí line reappears
- Works for draw, move, delete, color change
- Each user has their own undo stack

#### 15. Live Cursors
- [ ] Show other users' cursor positions
- [ ] Small label with user name
- [ ] Uses user's assigned color

**How it should work:**
- User A moves mouse on canvas
- User B sees small colored circle/cursor with "User A" label floating at that position
- Smooth cursor movement (not jumpy)
- Cursor disappears after 3 seconds of inactivity

#### 16. Canvas Export
- [ ] "Export as PNG" button in menu
- [ ] Downloads current canvas

**How it should work:**
- User clicks menu ‚Üí "Export as PNG"
- Browser downloads `exdraw-2025-10-17.png` with canvas contents
- Exported image is clean (no UI elements)

#### 17. Simple Room System
- [ ] Each canvas has unique URL (`/draw/:room_id`)
- [ ] "New Canvas" button creates new room
- [ ] Share URL to collaborate

**How it should work:**
- User on `/draw` ‚Üí auto-creates/joins default room
- Click "New Canvas" ‚Üí generates random ID ‚Üí redirects to `/draw/abc123`
- Copy URL ‚Üí send to friend ‚Üí friend opens URL ‚Üí both drawing on same canvas
- Shows "Room: abc123" in header

#### 18. Save Canvas State
- [ ] Canvas automatically saves to database
- [ ] Reload page ‚Üí canvas persists

**How it should work:**
- User draws elements ‚Üí they're saved to database automatically
- User closes browser ‚Üí comes back later ‚Üí all drawings still there
- Works per room (each room has its own saved state)

#### 19. Beautiful UI Polish
- [ ] Smooth animations for tool switching
- [ ] Hover effects on buttons
- [ ] Loading states
- [ ] Empty state ("Start drawing!")

**How it should work:**
- All interactions feel smooth (transitions, hover effects)
- Buttons have subtle hover states
- When joining empty room, shows "Start drawing to begin" message in center
- Toolbar buttons have nice shadow/highlight on hover
- Modern, clean design (lots of whitespace, good typography)

#### 20. Mobile Responsive
- [ ] Touch drawing works perfectly
- [ ] Toolbar adapts to mobile (bottom of screen)
- [ ] Basic pinch-to-zoom

**How it should work:**
- Open on iPhone ‚Üí toolbar appears at bottom as horizontal row
- Draw with finger ‚Üí smooth lines
- Pinch with two fingers ‚Üí zooms canvas in/out
- All features work on mobile

---

### What You'll Have

- Beautiful, modern collaborative whiteboard
- Multiple authentication methods
- Real-time drawing with friends
- Essential drawing tools
- Mobile-friendly
- Shareable room links
- Persistent canvases

### What Makes It Special

- Pure Phoenix LiveView (no React, Vue, etc.)
- Real-time without writing complex WebSocket code
- Beautiful, minimal UI (Excalidraw/tldraw inspired)
- Actually usable and shareable

### Success Metrics

- Can invite friend via URL ‚Üí both draw together in real-time
- Feels smooth and responsive
- Looks professional enough to show off
- Mobile works great
